---
import { getCollection } from 'astro:content';
import { marked } from 'marked';

const salaryEntry = (await getCollection('vacancy')).find(entry => entry.data.order === 1);
if (!salaryEntry) throw new Error('Vacancy salary entry not found');

const htmlContent = marked.parse(salaryEntry.body || '');
---

<div class="card bg-base-100 border border-base-content/5 shadow-xl rounded-2xl p-6 hover:shadow-2xl transition-all duration-300">
  <div class="flex items-start gap-4 mb-4">
    <div class="shrink-0 w-12 h-12 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    </div>
    <div class="flex-1">
      <h3 class="font-heading font-bold text-2xl text-base-content mb-2">{salaryEntry.data.title}</h3>
    </div>
  </div>
  
  <div class="prose prose-sm max-w-none prose-headings:font-heading prose-headings:text-primary prose-strong:text-base-content prose-strong:font-bold prose-ul:space-y-2 prose-li:text-base-content/80" set:html={htmlContent} />
</div>
